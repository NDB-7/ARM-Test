// STORES INPUT AND OUTPUT AS CONSTANTS

.equ SWITCHES, 0xff200040
.equ LED, 0xff200000

.global _start
_start:
	LDR R0,=SWITCHES
	LDR R1,[R0] // LOADS SWITCHES DATA
	AND R2,R1,#0b1000000000 // REGISTER 2 HOLDS NEGATION FLAG
	
	LDR R0,=LED

	CMP R2,#0
	
	BGT negate // NEGATES REGISTER 1
	
	STR R1,[R0] // LIGHTS UP LED
	
	BAL exit // SKIPS NEGATION
	
negate:
	MVN R1,R1 // PERFORMS NEGATION
	STR R1,[R0] // LIGHTS UP LED

exit:
	SWI 0 // SOFTWARE INTERRUPT
